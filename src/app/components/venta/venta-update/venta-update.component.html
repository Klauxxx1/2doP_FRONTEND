<!-- src/app/components/venta/venta-update/venta-update.component.html -->

<div class="form-container">
    <h2>Actualizar Venta</h2>
  
    <form (ngSubmit)="actualizarVenta()" #ventaForm="ngForm">
      <!-- Total -->
      <div class="form-group">
        <label for="total">Total:</label>
        <input
          id="total"
          [(ngModel)]="venta.total"
          name="total"
          placeholder="Total"
          required
          type="number"
          #total="ngModel"
          class="form-control"
        />
        <div *ngIf="total.invalid && (total.dirty || total.touched)" class="error-message">
          <small *ngIf="total.errors?.['required']">El total es obligatorio.</small>
        </div>
      </div>
  
      <!-- Método de Pago -->
      <div class="form-group">
        <label for="metodo_pago">Método de Pago:</label>
        <input
          id="metodo_pago"
          [(ngModel)]="venta.metodo_pago"
          name="metodo_pago"
          placeholder="Método de Pago"
          required
          #metodo_pago="ngModel"
          class="form-control"
        />
        <div *ngIf="metodo_pago.invalid && (metodo_pago.dirty || metodo_pago.touched)" class="error-message">
          <small *ngIf="metodo_pago.errors?.['required']">El método de pago es obligatorio.</small>
        </div>
      </div>
  
      <!-- Usuario -->
      <div class="form-group">
        <label for="usuario">Usuario:</label>
        <select
          id="usuario"
          [(ngModel)]="venta.usuario"
          name="usuario"
          required
          class="form-control"
        >
          <option value="" disabled>Seleccione...</option>
          <option *ngFor="let u of usuarios" [value]="u.id">
            {{ u.nombre }}
          </option>
        </select>
        <div *ngIf="ventaForm.submitted && venta.usuario === 0" class="error-message">
          <small>Debe seleccionar un usuario.</small>
        </div>
      </div>
  
      <!-- Carrito -->
      <div class="form-group">
        <label for="carrito">Carrito:</label>
        <select
          id="carrito"
          [(ngModel)]="venta.carrito"
          name="carrito"
          required
          class="form-control"
        >
          <option value="" disabled>Seleccione...</option>
          <option *ngFor="let c of carritos" [value]="c.id">
            {{ c.id }}
          </option>
        </select>
        <div *ngIf="ventaForm.submitted && venta.carrito === 0" class="error-message">
          <small>Debe seleccionar un carrito.</small>
        </div>
      </div>
  
      <!-- Botones -->
      <div class="button-container">
        <button type="submit" [disabled]="ventaForm.invalid" class="submit-btn">
          Actualizar
        </button>
        <button type="button" (click)="cancelar()" class="cancel-btn">
          Cancelar
        </button>
      </div>
    </form>
  </div>
  